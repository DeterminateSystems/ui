@use "sass:map";
@use "sass:color";

@use "../sass/functions";
@use "../sass/mixins";
@use "../sass/tokens";

.severity-badge {
  align-self: self-start; // Prevents the button from occupying all available space inside a div
  display: inline-flex;
  flex-direction: row;

  padding: 0;
  margin: 0;
  border: 1;

  font-family: map.get(tokens.$fonts, sans);

  font-size: map.get(tokens.$font-size, sm);
  font-family: map.get(tokens.$fonts, mono);

  border-left: 1em solid var(--lighter);

  &__container {
    padding: 0 map.get(tokens.$padding, sm);
    border-bottom: map.get(tokens.$border-width, sm) solid var(--lighter);
  }

  &__prefix {
    justify-content: center;
    padding-right: 0.5em;
    text-transform: uppercase;
  }

  &__value {
    font-weight: map.get(tokens.$font-weight, bold);
  }

  &.severity-badge--unknown {
    --lighter: #{map.get(tokens.$grays, light)};
    --darker: #{map.get(tokens.$grays, very-light)};
  }

  &.severity-badge--low {
    --lighter: #{color.scale(
        map.get(tokens.$brand, ocean-blue),
        $lightness: +75%
      )};
    --darker: #{map.get(tokens.$brand, ocean-blue)};
  }

  &.severity-badge--medium {
    --lighter: #{map.get(tokens.$brand, yellow)};
    --darker: #{functions.darken(map.get(tokens.$brand, yellow), 80%)};
  }

  &.severity-badge--important {
    --lighter: #{map.get(tokens.$brand, orange)};
    --darker: #{functions.darken(map.get(tokens.$brand, orange), 80%)};
  }

  &.severity-badge--critical {
    --lighter: #{map.get(tokens.$brand, red)};
    --darker: #{functions.darken(map.get(tokens.$brand, red), 80%)};
  }
}
